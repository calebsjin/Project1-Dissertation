var dialogHTML={shareDialog:'<div id="dlgFileShare"><table class="cmsg" cellpadding="0" cellspacing="0"><tr><td style="width:80px;">Share with:</td><td><div id="shareFile"><div class="inputBox"><div class="shareToBox"><input id="shareTo" class="dialogShareRecipient" type="text" value="" style="width: 100%;"/></div></div></div></td></tr><tr><td colspan="2" style="display:none" class="shareToUsers"><ul class="users"><dt class="hidden"><li class="last"><span class="name">&#160;</span><a class="cw-btn removercpt" data-action="close" href="javascript:void(0);" cw-title="Close">x</a></li></dt></ul></td></tr></table></div>'};function jDialog(i,t){this.name=i;var e="",a="",n="OK",o="Cancel",l=[];this.cached=!0,null!=t.cached&&(this.cached=t.cached),this.setNavItems=function(i){null!=i&&(l=i)},this.getNavItems=function(){return l},this.setContentHtml=function(i){null!=i&&(a=i,CwZ("#"+this.name+"_dialog .dialogContent").html(i))},this.getContentHtml=function(){return a},this.setTitle=function(i){null!=i&&(e=i,CwZ("#"+this.name+"_dialog .dialogTitle h2").html(i))},this.getTitle=function(){return e},this.setSubTitle=function(i){null!=i&&(e=i,this.removeSubTitle(),CwZ("#"+this.name+"_dialog .dialogTitle h2").after("<p>"+i+"</p>"))},this.removeSubTitle=function(){CwZ("#"+this.name+"_dialog .dialogTitle h2").next("p").remove()},this.setOkLabel=function(i){null!=i&&(n=i,CwZ("#"+this.name+"_dialog .dialogOk").html(i))},this.getOkLabel=function(){return n},this.setCancelLabel=function(i){null!=i&&(o=i,CwZ("#"+this.name+"_dialog .dialogCancel").html(i))},this.getCancelLabel=function(){return o},this.bindOnOkEvent=function(i){if(null!=i){CwZ("#"+this.name+"_dialog .dialogOk").off("click").on("click",function(){i()})}},this.bindOnCancelEvent=function(i){if(null!=i){var t=this;CwZ("#"+this.name+"_dialog .dialogCancel").off("click").on("click",function(){t.hide(),i()})}},CwZ("#"+this.name+"_dialog").on("keyup",function(i){jDialog.getActiveObject().hide()});var s=this;this.setTitle(t.title),this.setOkLabel(t.okLabel),this.setCancelLabel(t.cancelLabel),this.setContentHtml(t.contentHtml),this.setNavItems(t.navItems);var d='<div class="dialogNav" style="display:none;"></div>';if(0<this.getNavItems().length){d='<div class="dialogNav" style="display:none;"><ul>';for(var c=0;c<this.getNavItems().length;c++){var h=this.getNavItems()[c],g=null!=h.id?" id='"+h.id+"'":"",r=null!=h.onclick?" onclick='"+h.onclick+"'":"",u=null!=h.icon?h.icon:"",v=null!=h.label?h.label:"",w=1==h.selected?" class='selected'":"";d+="<li "+w+">",d+="<a "+g+' href="javascript:void(0);"'+r+' title="'+v+'">',d+='<img src="images/spacer.gif" class="'+u+'"/>',d+="<span>"+v+"</span>",d+="</a></li>"}d+="</ul></div>"}var C,p='<div id="'+this.name+'_dialog" class="dialogBoxExt'+(null!=t.isOldStyle&&1==t.isOldStyle?" oldStyle":"")+'">'+d+'<div class="dialogWrapper" style="display:none;"><div class="dialogHeader"><h2>'+this.getTitle()+'</h2></div><div class="dialogContent">'+this.getContentHtml()+"</div>",m="",f="",Z="";if(1==t.hideButtons&&(m="display:none;"),1==t.hideOk&&(f="display:none;"),1==t.hideCancel&&(Z="display:none;"),p+='<div class="dialogFooter" style="'+m+'"><a class="dialogOk cBtnn active" href="javascript:void(0);" style="'+f+'">'+this.getOkLabel()+'</a><a class="dialogCancel cBtnn" href="javascript:void(0);" style="'+Z+'">'+this.getCancelLabel()+'</a><span class="sendingDlg hidden">Please wait ...</span>',p+="</div>",p+='<div class="dialogLoader" style="'+(1==t.isAjax?"":"display:none;")+'"><div class="loader"><img src="images/spacer.gif" class=""></div><div class="loadingText">Loading...</div></div>',p+="</div>",CwZ("#dialogCurtain").append(p),CwZ("#dialogCurtain").addClass("dark").show(),this.setPosition(),this.bindOnOkEvent(t.onOk),this.bindOnCancelEvent(t.onCancel),this.bindOnLoadEvent(t.onLoad),this.bindOnShowEvent(t.onShow),this.bindOnHideEvent(t.onHide),CwZ("#"+this.name+"_dialog .dialogClose").on("click",function(){s.hide("close")}),CwZ("#"+this.name+"_dialog .dialogNav li a").on("click",function(){t.navHasTitle&&s.setTitle(CwZ(this).text()),CwZ(this).closest("ul").find("li").removeClass("selected"),CwZ(this).parent().addClass("selected")}),CwZ("#"+this.name+"_dialog").data("object",this),null!=t.isAjax&&1==t.isAjax){C=dialogHTML.shareDialog,s.setContentHtml(C),s.onLoad(),setTimeout(function(){CwZ("#"+s.name+"_dialog .dialogLoader").fadeOut(300,function(){s.show(),CwZ("#"+s.name+"_dialog .dialogWrapper").show(),0<s.getNavItems().length&&CwZ("#"+s.name+"_dialog .dialogNav").show(),s.setPosition()})},300)}else s.onLoad(),CwZ("#"+this.name+"_dialog").hide(),s.setPosition(),setTimeout(function(){s.show()},50),CwZ("#"+this.name+"_dialog .dialogWrapper").show(),0<s.getNavItems().length&&CwZ("#"+s.name+"_dialog .dialogNav").show()}jDialog.animated=!0,jDialog.getObject=function(i){var t=CwZ("#"+i+"_dialog").data("object");return t},jDialog.getActiveObject=function(){var i=CwZ(".dialogBoxExt[id$='_dialog']:visible").eq(0).data("object");return i},jDialog.open=function(i,t){var e=jDialog.getObject(i);return null==e?e=new jDialog(i,t):(e.setTitle(t.title),e.setContentHtml(t.contentHtml),e.bindOnShowEvent(t.onShow),e.bindOnHideEvent(t.onHide),e.show()),e},jDialog.prototype.onLoad=function(){},jDialog.prototype.onShow=function(){},jDialog.prototype.onHide=function(){},jDialog.prototype.show=function(){var i=this;CwZ("#dialogCurtain").addClass("dark").show(),i.onShow(),i.setPosition(),WiZ.disableWindowScroll(!0),1==jDialog.animated?CwZ("#"+this.name+"_dialog").fadeIn(500,function(){i.setPosition()}):CwZ("#"+this.name+"_dialog").show()},jDialog.prototype.hide=function(i){WiZ.disableWindowScroll(!1);var t=this,e=function(){CwZ("#"+t.name+"_dialog").hide(1,function(){t.onHide();var i=jDialog.getActiveObject();null!=i&&i.name!=t.name||CwZ("#dialogCurtain").removeClass("dark").hide(),0==t.cached&&CwZ("#"+t.name+"_dialog").remove()})};1==jDialog.animated?CwZ("#"+this.name+"_dialog").fadeOut(200,function(){e()}):e()},jDialog.prototype.hideOkButton=function(){CwZ("#"+this.name+"_dialog .dialogOk").hide()},jDialog.prototype.showOkButton=function(){CwZ("#"+this.name+"_dialog .dialogOk").show()},jDialog.prototype.hideCancelButton=function(){CwZ("#"+this.name+"_dialog .dialogCancel").hide()},jDialog.prototype.showCancelButton=function(){CwZ("#"+this.name+"_dialog .dialogCancel").show()},jDialog.prototype.hideButtons=function(){CwZ("#"+this.name+"_dialog").find(".dialogOk, .dialogCancel").hide()},jDialog.prototype.showButtons=function(){CwZ("#"+this.name+"_dialog").find(".dialogOk, .dialogCancel").show()},jDialog.prototype.setPosition=function(){var i=CwZ("#"+this.name+"_dialog"),t=i.outerWidth(),e=i.outerHeight(),a=CwZ(window).width(),n=CwZ(window).height(),o=Math.round(a/2-t/2),l=Math.round(n/2-e/2);i.css({left:o,top:l})},jDialog.prototype.bindOnLoadEvent=function(i){null!=i&&(this.onLoad=i)},jDialog.prototype.bindOnShowEvent=function(i){null!=i&&(this.onShow=i)},jDialog.prototype.bindOnHideEvent=function(i){null!=i&&(this.onHide=i)},jDialog.prototype.selectFirstNavItem=function(){CwZ("#"+this.name+"_dialog").find(".dialogNav a").first().trigger("click")};