"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var i=[],s=!0,o=!1,n=void 0;try{for(var a,r=e[Symbol.iterator]();!(s=(a=r.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,n=e}finally{try{s||null==r.return||r.return()}finally{if(o)throw n}}return i}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _wdom=wdom,onReady=_wdom.onReady,el=_wdom.el,parents=_wdom.parents,isMobile=_wdom.isMobile,val=_wdom.val,html=_wdom.html,text=_wdom.text,hide=_wdom.hide,show=_wdom.show,removeAttribute=_wdom.removeAttribute,hasClass=_wdom.hasClass,addClass=_wdom.addClass,removeClass=_wdom.removeClass,setAttribute=_wdom.setAttribute,getAttribute=_wdom.getAttribute,fadeIn=_wdom.fadeIn,trim=_wdom.trim,fadeOut=_wdom.fadeOut,triggerEvent=_wdom.triggerEvent,closest=_wdom.closest,getString=_wdom.getString,hasMaxLength=_wdom.hasMaxLength,on=_wdom.on,ajax=_wdom.ajax,hasMinLength=_wdom.hasMinLength,isEmpty=_wdom.isEmpty,isEmail=_wdom.isEmail,visible=_wdom.visible,isIpad=_wdom.isIpad,WizAuth=function(){function WizAuth(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,WizAuth),_defineProperty(this,"popupWindow",null),_defineProperty(this,"props",{}),_defineProperty(this,"state",{}),this.init(),this.setLoginStatus(),this.sectionToggle(),this.initMessages(),this.registerEvent()}return _createClass(WizAuth,[{key:"init",value:function(){this.popupWindow=null,this.initScripts(),this.props=this.defaultProps(),this.state=WizAuth.defaultState(),-1===location.search.indexOf("cordova=1")||localStorage.getItem("isCordova")||localStorage.setItem("isCordova","true"),localStorage.getItem("isCordova")&&addClass(el(".social-connect"),"hidden")}},{key:"initMessages",value:function(e){var t=window.self!==window.top;!t||this.state.status===this.props.loginStatus.LOGIN_SUCCESS||this.state.status===this.props.loginStatus.SIGNUP_SUCCESS||this.props.url.query.refresh||window.silentUpdate?(this.props.url.query.code&&addClass("body","ui-loading"),0===el("#script_authorize").length&&this.sendPostMessage("refreshPage"),e&&3===parseInt(val(e.target),10)&&(val(e.target,0),this.props.url.query.refresh||window.silentUpdate?this.sendPostMessage("loginRefreshed"):this.sendMessage(),t||this.props.url.query.code&&(this.props.url.query.redirect?location.href=decodeURIComponent(this.props.url.query.redirect):location.href=CwC.wizbase)),this.props.url.query.orgsignup||this.props.url.query.forgotpassword||!this.props.url.query.compact||this.props.url.query.redirect?(this.props.url.query.orgsignup&&isMobile()&&(addClass(".wai-auth-body","hidden"),removeClass(".orgsignup-success-msg","hidden")),removeClass("body","hidden")):this.sendPostMessage("showApplicationLoader")):(removeClass("body","hidden"),this.sendMessage())}},{key:"initScripts",value:function initScripts(){var script=text("#script_CwC");script&&eval(script)}},{key:"reset",value:function(){addClass(".auth-hero-wrapper","ui-loading"),setTimeout(function(){removeClass(".section.open","open"),addClass(".cw-login-form","hidden"),hide(".cw-login-form"),el(".section .ui.form:not(:disabled)").forEach(function(e){val(e,""),removeClass(closest(e,"div"),"error","tooltip","tooltip-error")}),removeAttribute("[data-mode]","checked"),el("input[data-mode]").forEach(function(e){return e.checked=!1}),hide(".msg-holder.error"),hide(".msg-holder.success span:not(.no-reset)"),addClass("#login","open"),removeClass(".auth-tabs-container a.active","active"),addClass(".auth-tabs-container a.signin-btn","active"),removeClass(".auth-hero-wrapper","ui-loading"),Array.prototype.slice.call(document.querySelectorAll(".section")).forEach(function(e){e.style.display="",e.style.opacity=""})},300)}},{key:"defaultProps",value:function(){var e=window.CwC.aubase,t={google:WizAuth.getOauthApi(e,"google"),twitter:WizAuth.getOauthApi(e,"twitter"),facebook:WizAuth.getOauthApi(e,"facebook"),linkedin:WizAuth.getOauthApi(e,"linkedin")},i=WizAuth.parseParams();return _extends(this.props,{oauth:t,url:i,loginStatus:{LOGIN_FAILED:"0",SIGNUP_SUCCESS:"1",LOGIN_SUCCESS:"2",ORG_EXPIRED:"3"},pbase:e},{standalone:-1<i.pathname.indexOf("/cwauth"),redirect:i.query.redirect,returnUrl:i.query.returnUrl,failureUrl:i.query.failureUrl,refresh:i.query.refresh,success:i.query.success,signup:void 0!==i.query.signup,cwmember:void 0!==i.query.cwmember,bmk:void 0!==window.bmk})}},{key:"setState",value:function(e){e&&(this.state=_extends(this.state,{},e))}},{key:"destroyOldPMListener",value:function(){var t=this;window.__pmevents&&0<window.__pmevents.length&&(console.log("delegating events"),window.removeEventListener("message",window.__pmListener),window.__pmevents.forEach(function(e){return t.msgListener(e)}),window.__pmevents=void 0,window.__pmListener=void 0)}},{key:"registerEvent",value:function(){val(".redirect",this.props.redirect),window.addEventListener("message",this.msgListener.bind(this)),this.destroyOldPMListener(),on("form","submit",this.onSubmit.bind(this),{type:"container"}),on("[data-validation]","blur",this.validateForm.bind(this),{type:"element"}),on("input[type='radio']","click",this.switchForms.bind(this)),on(".signup-pass","keyup",WizAuth.onPassChange.bind(this)),on(".signin-btn","click",this.showSection.bind(this,"signin",void 0)),on(".signup-btn","click",this.showSection.bind(this,"signup",void 0)),on(".show_pass input","click",WizAuth.showPassword.bind(this)),on(".extlogin","click",this.showAuthPopup.bind(this)),on(".auth-close-btn","click",this.closeAuthForm.bind(this)),on(".auth-secondary-tabs button","click",this.switchSubForm.bind(this)),on("input#counter","change",this.initMessages.bind(this))}},{key:"switchForms",value:function(e){var t=e.target,i=getAttribute(e.target,"data-mode");if(hide("div.form"),show(".cw-".concat(i,"-form")),this.props.etype||(this.props.etype=parseInt(val(".extType"))||void 0),this.props.etype&&1<this.props.etype){var s=closest(t,".section");null!=s&&val(el(".extAction",s,!0),getAttribute(t,"data-context"))}}},{key:"onSubmit",value:function(e){if(this.validateForm(e)){return"container"===e.data.type&&"org-signup"===getAttribute(e.target,"data-action")?{signupType:"org"}:addClass(".auth-hero-wrapper","ui-loading"),!0}e.preventDefault()}},{key:"validateForm",value:function(e){var t={email:"Please enter valid email address",required:"Please enter {placeholder}",dropdown:"Please select a value","max-length":"{placeholder} should not contain\nmore than {len} characters`;","min-length":"{placeholder} should contain more\nthan {len} characters","match-password":"Passwords does not match"},i=!0,s=e.data.type,o=e.target,n=el("[data-validation]");switch(s){case"container":n=el("[data-validation]",o).filter(visible);break;case"element":n=el(o)}el('input[type="checkbox"]',o).forEach(WizAuth.updateCheckbox.bind(this));for(var a=0;a<n.length&&i;a++){for(var r=n[a],l=getAttribute(r,"data-validation").split(" "),u=trim(val(r)),c=!0,d=0;d<l.length&&c;d++){var h=_slicedToArray(l[d].split(":"),2),p=h[0],g=h[1],m=closest(r,"div");if("match-password"===p){var v=el("input[name='pass1']",document,!0);g=trim(val(v))}if(WizAuth.validateField(p,u,g))removeAttribute(m,"data-tooltip"),removeClass(m,"error","tooltip","tooltip-error");else{c=!1;var f=getAttribute(r,"placeholder")||text(el("label",closest(r,"div"),!0))||"",w=t[p];"select"===r.tagName.toLowerCase()&&(w=w.replace("enter","select")),addClass(m,"error","tooltip","tooltip-error"),setAttribute(m,"data-tooltip",w.replace("{placeholder}",f).replace("{len}",g||""))}}c||(i=!1)}return i}},{key:"showSection",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};if(e){var i=".".concat(e,"-section");this.props.standalone&&hasClass(i,"open")||(hide(".msg-holder.error"),hide(".msg-holder.success span:not(.no-reset)"),removeClass("input.invalid","invalid"),removeClass(".auth-tabs-container .active","active"),addClass(".auth-tabs-container .".concat(e,"-btn"),"active"),this.props.standalone?fadeOut(".section.open",function(){removeClass(".section.open","open"),el(".section.open .ui.form:not(:disabled)").forEach(function(e){val(e,""),removeClass(closest(e,"div"),"error","tooltip","tooltip-error")}),e&&(fadeIn(i,t),addClass(i,"open")),removeClass(".captcha-width","captcha-width"),setTimeout(function(){return triggerEvent(el("input.first",i,!0),"focus")},100)}):hasClass(i,"open")||(removeClass(".open","open"),removeClass(".captcha-width","captcha-width"),fadeIn(i,300,t),addClass(i,"open"),setTimeout(function(){return triggerEvent(el("input.first",i,!0),"focus")},100)),-1!==this.props.url.pathname.indexOf("/cwauth/signup/organisation")?triggerEvent("form[data-action='org-signup'] input[name='fname']","focus"):-1!==this.props.url.pathname.indexOf("/cwauth/signup")?triggerEvent("form[data-action='signup'] input[name='fname']","focus"):triggerEvent("#login input[name='email']","focus"))}}},{key:"showAuthPopup",value:function(e){var t="",i=e.currentTarget;this.popupWindow&&this.popupWindow.close&&this.popupWindow.close(),t=hasClass(i,"btn-facebook")?this.props.oauth.facebook:hasClass(i,"btn-linkedin")?this.props.oauth.linkedin:hasClass(i,"btn-twitter")?this.props.oauth.twitter:hasClass(i,"btn-google")?this.props.oauth.google:this.props.url.href,WizAuth.logAnalytics(t,!0,!1),this.popupWindow=window.open(t,"_blank")}},{key:"closeAuthForm",value:function(){this.reset(),this.sendPostMessage("closeLoginFrame")}},{key:"switchSubForm",value:function(e){var t=e.target;if(!hasClass(t,"blue")){var i=getAttribute(t,"class").replace(/ +/g," ").split(" ").filter(function(e){return-1<e.indexOf("signup-btn")});if(0<i.length){hide(".msg-holder.error"),hide(".msg-holder.success span:not(.no-reset)");var s=i[0],o=closest(t,".auth-secondary-tabs"),n=el("button",o);addClass(n,"haze"),removeClass(n,"blue");var a=el(".".concat(s),o,!0);removeClass(a,"haze"),addClass(a,"blue");var r=closest(t,"div.section");switch(null!=r&&(addClass(el("form",r),"hidden"),removeClass(el("form.".concat(s.replace("-btn","")),r),"hidden"),el(".ui.form:not(:disabled)",r).forEach(function(e){val(e,""),removeClass(closest(e,"div"),"error","tooltip","tooltip-error")})),s){case"org-signup-btn":triggerEvent("form[data-action='org-signup'] input[name='fname']","focus");break;case"ind-signup-btn":triggerEvent("form[data-action='signup'] input[name='fname']","focus")}}}}},{key:"msgListener",value:function(t){var i=this;try{if(t&&t.data){var e=t.data;switch("string"==typeof e&&-1<e.indexOf("{")&&(e=JSON.parse(e)),e.message){case"logAnalytics":WizAuth.logAnalytics(e.url);break;case"setService":var s=null,o=parents(el("#logEmail",document,!0),"form");0<o.length&&(s=o[0],val(el("input[name='service']",s,!0),"docsplugin"));break;case"forward":if(t.origin===CwC.wizbase||t.origin===CwC.aubase||t.origin===CwC.apbase){var n=e,a=n.initiator,r=n.id;if(a&&"wizdom.ai"===a){var l=e.payload,u=l.method,c=l.path,d=l.params,h=l.headers;ajax(c,u,!0,function(e){return i.sendPostMessage(JSON.stringify({id:r,message:"forward",initiator:"cwauth",response:JSON.parse(e.responseText)}),{},t.origin)},function(e){return console.log(e)},d,h)}}break;case"showloginform":triggerEvent(".signin-btn","click");break;case"showsignupform":triggerEvent(".signup-btn","click");break;case"showorgsignupform":triggerEvent(".signup-btn","click"),triggerEvent(".org-signup-btn","click")}}}catch(e){console.log(e.message)}}},{key:"loginQueryString",value:function(){var e=this.props.url.search.substr(1).split("&").filter(function(e){return-1===e.indexOf("success=")||-1===e.indexOf("email=")||-1===e.indexOf("pass=")||-1===e.indexOf("active=")||-1===e.indexOf("try=")||-1===e.indexOf("captcha=")||-1===e.indexOf("invalid")||-1===e.indexOf("cwmember=")||-1===e.indexOf("msg=")||-1===e.indexOf("pending=")||-1===e.indexOf("ecode=")}).join("&");return 0<e.length&&(e="?"+e),e}},{key:"sectionToggle",value:function(){this.props.standalone&&this.state.status===this.props.loginStatus.LOGIN_FAILED&&-1===this.props.url.pathname.indexOf("/cwauth/signup")&&this.showSection("signin",function(){return show(".msg-holder")}),(this.props.signup||this.props.cwmember)&&(removeClass(".form-container","open"),addClass("#signup","open")),-1!==this.props.url.pathname.indexOf("/cwauth/signup/organisation")?triggerEvent("form[data-action='org-signup'] input[name='fname']","focus"):-1!==this.props.url.pathname.indexOf("/cwauth/signup")?triggerEvent("form[data-action='signup'] input[name='fname']","focus"):triggerEvent("#login input[name='email']","focus")}},{key:"setLoginStatus",value:function(){if(void 0===this.props.success){var e="0"===this.props.url.query.email,t="0"===this.props.url.query.pass,i="0"===this.props.url.query.active,s="1"===this.props.url.query.orgexpired;this.state=_extends(this.state,{},{status:e||t||i||s?this.props.loginStatus.LOGIN_FAILED:""})}else this.state=_extends(this.state,{},{status:this.props.url.query.success,orgSignup:-1<this.props.url.pathname.indexOf("/organisation")})}},{key:"sendMessage",value:function(){var e={claim:this.props.url.query.claim,userId:this.props.url.query.eId};if(window.parent){var t=location.pathname+"?"+(location.search||"?").slice(1).split("&").filter(function(e){return-1===e.indexOf("code")&&-1===e.indexOf("success")}).join("&"),i=-1<navigator.userAgent.toLowerCase().indexOf("firefox");switch(this.state.status){case this.props.loginStatus.LOGIN_FAILED:case this.props.loginStatus.ORG_EXPIRED:this.sendPostMessage("loginFailed");break;case this.props.loginStatus.SIGNUP_SUCCESS:this.sendPostMessage("signupSuccess",_extends(e,this.state.orgSignup?{signupType:"org"}:{})),i&&(location.href=t),WizAuth.logAnalytics(4,!0,!0);break;case this.props.loginStatus.LOGIN_SUCCESS:this.sendPostMessage("hideLoginFrame",e),this.props.url.query.success&&this.props.url.query.code&&this.props.url.query.forward?location.href=CwC.wizbase:i&&(location.href=t),WizAuth.logAnalytics(9,!0,!0)}}else this.sendPostMessage("closeLoginFrame")}},{key:"oauthSignupForm",value:function(t){var i={create:{radio:"#lk-create-checkme2",form:".cw-dont-have-colwiz-account-form"},connect:{radio:"#lk-already-exists-checkme1",form:".cw-connect-with-same-account-form"}};hide("div.form"),show("img.notVerifyPic.extUserImg"),hide("div.thumb-avatar-wrapper.medium"),this.showSection("lk-".concat(t),function(){hide(".ext-signup form"),setAttribute(".ext-signup ".concat(i[t].radio),"checked","checked"),el(".ext-signup ".concat(i[t].radio)).forEach(function(e){return e.checked=!0});var e=el(".ext-signup ".concat(i[t].form),document,!0);null!=e&&(show(e),show(closest(e,"form")))})}},{key:"doAction",value:function(e,t){this.popupWindow=t,val("input[type='password']","");var i="facebook",s="error";if(e&&(e.connection&&(i=e.connection),e.action&&(s=e.action)),i=i.toLowerCase(),this.popupWindow&&this.popupWindow.close(),"google"===i||"facebook"===i||"linkedin"===i){this.setState({etype:WizAuth.getOauthType(i)});var o=getString(e.extFirstName),n=getString(e.extLastName),a=getString(e.extEmail),r=getString(e.extOpenId),l=getString(e.extImgUrl),u=getString(e.extToken),c=getString(e.extTokenCode),d=getString(e.extName),h=getString(e.extUId),p=getString(e.extType),g=getString(e.msg);val(".ext-signup .extAction,.extContext",s),val(".ext-signup .extFirstName",o),val(".ext-signup .extLastName",n),val(".ext-signup .extEmail",a),val(".ext-signup .extOpenId",r),val(".ext-signup .extToken",u),val(".ext-signup .extTokenCode",c),val(".ext-signup .extName",d),setAttribute(".ext-signup .extUserImg","src",l),val(".ext-signup .extImgUrl",l),val(".ext-signup .extType",p),val(".ext-signup .extUId",h||"-1"),text(".ext-signup #lkEmailExists",a),html(".ext-signup .provider",WizAuth.getProvider(p));var m=el(".msg-holder",document,!0);switch(null!=m&&hide(m),s){case"close":this.popupWindow&&this.popupWindow.close();break;case"create":case"connect":this.oauthSignupForm(s);break;case"ok":case"login":this.showSection("signin");var v=e.token;if(!v){g=g||"An error occured while connecting with "+WizAuth.getProvider(this.state.etype),null!=m&&(show(m),removeClass(m,"success-msg"),removeClass(m,"error-msg"),text(el("span",m,!0),g));break}var f="".concat(CwC.aubase,"/cwauth")+this.loginQueryString(),w=-1<=f.indexOf("?")?"&":"?";window.location.href=f+w+"code="+v+"&success=2";break;default:g=g||"An error occured while connecting with "+WizAuth.getProvider(this.state.etype),null!=m&&(show(m),removeClass(m,"success-msg"),removeClass(m,"error-msg"),text(el("span",m,!0),g))}}}},{key:"sendPostMessage",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"*",s=e;s=this.props.bmk?("loginFailed"===e?e="login":"hideLoginFrame"===e||"signupSuccess"===e?e="retry":"closeLoginFrame"===e&&(e="closeLogin"),JSON.stringify({data:e})):(s={data:e},t&&(s.pmObj=t),JSON.stringify(s)),window.parent.postMessage(s,i)}}],[{key:"onFrameLoad",value:function(){var e=el("#counter",document,!0);if(null!=e){var t=val(e);try{t=parseInt(t),val(e,++t),triggerEvent(e,"change")}catch(e){}}}},{key:"defaultState",value:function(){return{status:"",etype:null}}},{key:"parseParams",value:function(){return _extends({},location,{query:(e=location.search||"?",t={},e.slice(1).split("&").forEach(function(e){return t[e.split("=")[0]]=e.split("=")[1]}),t)});var e,t}},{key:"onPassChange",value:function(e){var t=el(".password-strength-meter",closest(e.target,"div.icon-input"),!0),i=WizAuth.scorePassword(val(e.target));return t.className=t.className.replace(/fair|none|good|weak|strong|too-short/g,i),"none"===i?t.classList.add("hidden"):t.classList.remove("hidden"),i}},{key:"showPassword",value:function(e){var t=closest(e.currentTarget,".icon-input");t=el("input",t,!0),setAttribute(t,"type",{text:"password",password:"text"}[getAttribute(t,"type")]||getAttribute(t,"type"))}},{key:"updateCheckbox",value:function(e){var t="no";e.checked&&(t="yes"),val(e,t)}},{key:"logAnalytics",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];try{var s=window._gaq;if(s&&!t&&s.push(["_trackPageview",e]),t){var o=window._paq;i?o.push(["trackGoal",e]):o.push(["trackPageView",e])}}catch(e){WizAuth.log("Auth logAnalytics"),WizAuth.log(e)}}},{key:"scorePassword",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=0,i="none";if(!e)return i;for(var s={},o=0;o<e.length;o++)s[e[o]]=(s[e[o]]||0)+1,t+=5/s[e[o]];var n={digits:/\d/.test(e),lower:/[a-z]/.test(e),upper:/[A-Z]/.test(e),nonWords:/\W/.test(e)},a=0;for(var r in n)a+=!0===n[r]?1:0;return i=80<(t+=10*(a-1))?"strong":60<t?"good":50<t?"fair":30<=t?"weak":0<t?"too-short":"none"}},{key:"log",value:function(e){-1===location.href.indexOf(".colwis")&&console.info(e)}},{key:"getOauthType",value:function(e){return{facebook:"2",linkedin:"3",twitter:"4",google:"5"}[e]}},{key:"getProvider",value:function(e){var t="Facebook";switch(parseInt(e)){case 2:t="Facebook";break;case 3:t="LinkedIn";break;case 4:t="Twitter";break;case 5:t="Google"}return t}},{key:"getOauthApi",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length?arguments[1]:void 0;return"".concat(e,"/oauthcall?req=authorize&mode=dlg&type=").concat(WizAuth.getOauthType(t)||"0")}},{key:"serialize",value:function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}},{key:"validateField",value:function(e){switch(e){case"required":case"dropdown":return!isEmpty(arguments.length<=1?void 0:arguments[1]);case"email":return isEmail(arguments.length<=1?void 0:arguments[1]);case"min-length":return hasMinLength(arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]);case"max-length":return hasMaxLength(arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]);case"match-password":return WizAuth.matchPass(arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}}},{key:"matchPass",value:function(e,t){return""!==trim(e)&&trim(e)===trim(t)}},{key:"onError",value:function(e){var t=getAttribute(el('form input[name="extName"]'),"value");if(t){var i=e.parentElement;hide(e);var s=i.querySelector("div.thumb-avatar-wrapper.medium");s?show(s):(s=document.createElement("div"),addClass(s,"thumb-avatar-wrapper","medium")),s.innerHTML='<div data-fulltitle="'.concat(t,'"></div>'),i.appendChild(s)}}}]),WizAuth}(),wizAuth;_defineProperty(WizAuth,"counter",0),onReady(function(){var e=!!~window.location.pathname.indexOf("/cwauth");if(wizAuth=new WizAuth(e),window.OAuth=wizAuth,/^((?!chrome|android|Mobile).)*safari/i.test(navigator.userAgent)){var t=document.getElementById("login_email");t&&t.removeAttribute("autofocus")}});
//# sourceMappingURL=../../sourcemaps/js/auth.js.map
